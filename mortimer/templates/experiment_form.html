{% extends "base.html" %}

{% block content %}

    <script type="text/javascript">
        $(document).ready(function() {
            if ($("#external").val()=='y') {
                $("#external-control-group").show();
                $("#internal-control-group").hide();
            }

            $("#external").change(function() {
                $("#external-control-group").toggle();
                $("#internal-control-group").toggle();
            });

        });
    </script>



    <h1>Experiment Form</h1>
    <p class="lead">lead</p>

    {% if form.errors %}
        <div class="alert alert-error">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            Username and password didn't match. Please try again.
        </div>
    {% endif %}

    <form class="form-horizontal" method="post" action=".">
        {{ form.hidden_tag() }}
        <div class="control-group">
                {{ form.name.label(class='control-label') }}
            <div class="controls">
                {{ form.name }}
            </div>
        </div>
        <div class="control-group">
                {{ form.external.label(class='control-label') }}
            <div class="controls">
                {{ form.external }}
            </div>
        </div>
        <div id="external-control-group" style="display: none;">
        <div class="control-group">
                {{ form.expName.label(class='control-label') }}
            <div class="controls">
                {{ form.expName }}
            </div>
        </div>
        <div class="control-group">
                {{ form.expVersion.label(class='control-label') }}
            <div class="controls">
                {{ form.expVersion }}
            </div>
        </div>
        </div>
        <div id="internal-control-group">
        <div class="control-group">
                {{ form.active.label(class='control-label') }}
            <div class="controls">
                {{ form.active }}
            </div>
        </div>
        <div class="control-group">
                {{ form.access_type.label(class='control-label') }}
            <div class="controls">
                {{ form.access_type }}
            </div>
        </div>
        <div class="control-group">
                {{ form.password.label(class='control-label') }}
            <div class="controls">
                {{ form.password }}
            </div>
        </div>
        <div class="control-group">
                {{ form.config.label(class='control-label') }}
            <div class="controls">
                {{ form.config }}
            </div>
        </div>
        <div class="control-group">
                {{ form.script.label(class='control-label') }}
            <div class="controls">
                {{ form.script }}
            </div>
        </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>

{% endblock %}
